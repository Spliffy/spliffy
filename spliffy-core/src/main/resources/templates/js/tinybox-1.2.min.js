/* TinyBox v1.2 Â© 2012 ducdhm | Skype: ducdhm | Company: iTim technologies | 17/01/2012 */
(function(a,b){a.tinybox={version:1.2,_defaults:{escKey:true,overlayClose:true,background:"#000",opacity:.5,speed:400,top:"auto",onOpen:function(){},onComplete:function(){}},_init:function(){a("<div id='tbox_overlay'></div>").css({zIndex:88888,width:"100%",height:"100%",top:0,left:0,display:"none",opacity:0,position:"fixed"}).appendTo("body");a.tinybox.overlay=a("div#tbox_overlay")},_show:function(c,d){var e=a("body"),f=a(b),g=typeof c=="object"?c:a(c),h=g.outerWidth(),i=g.outerHeight(),j=a.extend(a.tinybox._defaults,d),k=j.speed=="fast"?200:j.speed=="slow"?600:j.speed;j.onOpen();if(!g.hasClass("tbox_content")){g.css({zIndex:88889,position:"fixed"}).addClass("tbox_content")}g.css({left:"50%",top:j.top=="auto"?"50%":j.top,marginTop:j.top=="auto"?-i/2:0,marginLeft:-h/2,display:"block",opacity:0}).animate({opacity:1},k);e.find("div.tbox_content").not(g).animate({opacity:0},k,function(){this.style.display="none"});if(!!j.background){a.tinybox.overlay.css({background:j.background,display:"block"}).animate({opacity:j.opacity},k);if(j.overlayClose){a.tinybox.overlay.click(function(){a.tinybox.close()})}}if(j.escKey){f.add(e).keydown(function(b){if(b.keyCode==27){a.tinybox.close()}})}setTimeout(function(){j.onComplete()},k)},show:function(b,c){a.tinybox._show(b,c);return"TinyBox v"+a.tinybox.version},close:function(){a.tinybox.overlay.add("div.tbox_content").stop().animate({opacity:0},200,function(){this.style.display="none"});return"TinyBox v"+a.tinybox.version}};a.fn.tinybox=function(b){return this.each(function(){a(this).click(function(c){a.tinybox._show(a(this).attr("href"),b);c.preventDefault()})})};a(b).load(function(){a.tinybox._init()})})(jQuery,window);